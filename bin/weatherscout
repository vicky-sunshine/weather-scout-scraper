#!/usr/bin/env ruby
require 'thor'
require 'weatherscout' # for production
# require './lib/weatherdesc/daily_weather.rb' # for cmd line testing purposes

class WeatherCLI < Thor
  desc 'today CITY', 'see the weather of the city today'
  def today(city)
    weather = DailyWeatherScraper::DailyWeather.new(city)
    date = weather.date
    temperature_day = weather.temperature_day
    temperature_night = weather.temperature_night
    rain_probability = weather.rain_probability
    condition_day = weather.condition_day
    condition_night = weather.condition_night
    tips = weather.tips
    puts "#{city}（#{date}）天氣狀況："
    puts "白天氣象：#{condition_day}，氣溫 #{temperature_day} 度"
    puts "晚上氣象：#{condition_night}，氣溫 #{temperature_night} 度"
    puts "降雨機率：#{rain_probability}"
    puts "溫馨叮嚀："
    puts "#{tips}"
  end
end

WeatherCLI.start(ARGV)
